"use strict";const CONFIG={emailjs:{serviceId:"service_zgf03ey",templateId:"template_7r3r8rd",publicKey:"d09HeaQfradvNnLgt"},animations:{observerOptions:{threshold:.1,rootMargin:"-50px"},skillBarDelay:200,counterSpeed:2e3},performance:{enableMetrics:!0,enableErrorTracking:!0}},Utils={debounce(e,t){let n;return function(...i){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),e(...i)},t)}},throttle(e,t){let n;return function(){const i=arguments,s=this;n||(e.apply(s,i),n=!0,setTimeout(()=>n=!1,t))}},isInViewport(e,t=0){const n=e.getBoundingClientRect();return n.top>=0-t&&n.left>=0&&n.bottom<=window.innerHeight+t&&n.right<=window.innerWidth},scrollToElement(e,t=0){const n=e.offsetTop-t;window.scrollTo({top:n,behavior:"smooth"})},getScrollPosition:()=>window.pageYOffset||document.documentElement.scrollTop,animateCounter(e,t,n=2e3){const i=parseInt(e.textContent)||0,s=(t-i)/(n/16);let o=i;const a=setInterval(()=>{o+=s,(s>0&&o>=t||s<0&&o<=t)&&(o=t,clearInterval(a)),e.textContent=Math.floor(o)},16)},formatDate:e=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(new Date(e)),isValidEmail:e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),showLoading(e,t="Loading..."){const n=e.innerHTML;return e.innerHTML=`\n            <i class="fas fa-spinner fa-spin" aria-hidden="true"></i>\n            <span>${t}</span>\n        `,e.disabled=!0,n},hideLoading(e,t){e.innerHTML=t,e.disabled=!1}};class NavigationManager{constructor(){this.navbar=document.getElementById("navbar"),this.navToggle=document.getElementById("mobile-menu"),this.navMenu=document.getElementById("nav-menu"),this.navLinks=document.querySelectorAll(".nav-link"),this.isMenuOpen=!1,this.init()}init(){this.setupScrollEffect(),this.setupMobileMenu(),this.setupSmoothScrolling(),this.setupActiveLink()}setupScrollEffect(){const e=Utils.throttle(()=>{const e=Utils.getScrollPosition()>100;this.navbar.classList.toggle("scrolled",e)},100);window.addEventListener("scroll",e)}setupMobileMenu(){this.navToggle&&(this.navToggle.addEventListener("click",()=>{this.toggleMobileMenu()}),document.addEventListener("click",e=>{!this.isMenuOpen||this.navMenu.contains(e.target)||this.navToggle.contains(e.target)||this.closeMobileMenu()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&this.isMenuOpen&&this.closeMobileMenu()}))}toggleMobileMenu(){this.isMenuOpen=!this.isMenuOpen,this.navMenu.classList.toggle("active"),this.navToggle.setAttribute("aria-expanded",this.isMenuOpen);this.navToggle.querySelectorAll(".bar").forEach((e,t)=>{e.style.transform=this.isMenuOpen?`rotate(${0===t?"45deg":1===t?"scaleX(0)":"-45deg"})`:""}),document.body.style.overflow=this.isMenuOpen?"hidden":""}closeMobileMenu(){this.isMenuOpen&&this.toggleMobileMenu()}setupSmoothScrolling(){this.navLinks.forEach(e=>{e.getAttribute("href").startsWith("#")&&e.addEventListener("click",t=>{t.preventDefault();const n=e.getAttribute("href").substring(1),i=document.getElementById(n);i&&(Utils.scrollToElement(i,80),this.closeMobileMenu())})})}setupActiveLink(){const e=document.querySelectorAll("section[id]"),t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){this.navLinks.forEach(e=>e.classList.remove("active"));const t=document.querySelector(`.nav-link[href="#${e.target.id}"]`);t&&t.classList.add("active")}})},{threshold:.3,rootMargin:"-20% 0px -20% 0px"});e.forEach(e=>t.observe(e))}}class AnimationManager{constructor(){this.animatedElements=new Set,this.countersAnimated=new Set,this.init()}init(){this.setupScrollAnimations(),this.setupCounters(),this.setupSkillBars(),this.setupTechStackAnimation(),this.setupBackToTop()}setupScrollAnimations(){const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!this.animatedElements.has(e.target)&&(this.animateElement(e.target),this.animatedElements.add(e.target))})},CONFIG.animations.observerOptions);document.querySelectorAll("[data-aos]").forEach(t=>{e.observe(t)})}animateElement(e){const t=e.getAttribute("data-aos"),n=e.getAttribute("data-aos-delay")||0;setTimeout(()=>{switch(e.classList.add("aos-animate"),t){case"fade-up":e.style.transform="translateY(0)",e.style.opacity="1";break;case"fade-right":case"fade-left":e.style.transform="translateX(0)",e.style.opacity="1";break;case"float":e.style.animation="float 6s ease-in-out infinite"}},parseInt(n))}setupCounters(){const e=document.querySelectorAll("[data-target]"),t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting&&!this.countersAnimated.has(e.target)){const t=parseInt(e.target.getAttribute("data-target"));Utils.animateCounter(e.target,t,CONFIG.animations.counterSpeed),this.countersAnimated.add(e.target)}})},{threshold:.5});e.forEach(e=>t.observe(e))}setupSkillBars(){const e=document.querySelectorAll(".skill-progress"),t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting&&!this.animatedElements.has(e.target)){const t=e.target.getAttribute("data-width");setTimeout(()=>{e.target.style.width=t},CONFIG.animations.skillBarDelay),this.animatedElements.add(e.target)}})},{threshold:.3});e.forEach(e=>t.observe(e))}setupTechStackAnimation(){document.querySelectorAll(".tech-item").forEach(e=>{e.addEventListener("mouseenter",()=>{const t=e.getAttribute("data-tooltip");t&&this.showTooltip(e,t)}),e.addEventListener("mouseleave",()=>{this.hideTooltip()}),e.addEventListener("click",()=>{e.style.transform="scale(1.2)",setTimeout(()=>{e.style.transform=""},200)})})}showTooltip(e,t){const n=document.querySelector(".tooltip");n&&n.remove();const i=document.createElement("div");i.className="tooltip",i.textContent=t,i.style.cssText="\n            position: absolute;\n            background: var(--bg-dark);\n            color: var(--text-light);\n            padding: 8px 12px;\n            border-radius: 6px;\n            font-size: 12px;\n            white-space: nowrap;\n            z-index: 10000;\n            pointer-events: none;\n            opacity: 0;\n            transform: translateY(10px);\n            transition: all 0.2s ease;\n        ",document.body.appendChild(i);const s=e.getBoundingClientRect();i.style.left=s.left+s.width/2-i.offsetWidth/2+"px",i.style.top=s.top-i.offsetHeight-10+"px",requestAnimationFrame(()=>{i.style.opacity="1",i.style.transform="translateY(0)"})}hideTooltip(){const e=document.querySelector(".tooltip");e&&(e.style.opacity="0",e.style.transform="translateY(10px)",setTimeout(()=>e.remove(),200))}setupBackToTop(){const e=document.getElementById("back-to-top");if(!e)return;const t=Utils.throttle(()=>{const t=Utils.getScrollPosition()>300;e.style.display=t?"flex":"none"},100);window.addEventListener("scroll",t),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}}class SkillsManager{constructor(){this.skillNavBtns=document.querySelectorAll(".skill-nav-btn"),this.skillCategories=document.querySelectorAll(".skill-category"),this.currentCategory="frontend",this.init()}init(){this.setupCategoryNavigation(),this.setupInteractiveElements()}setupCategoryNavigation(){this.skillNavBtns.forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-category");this.switchCategory(t)})})}switchCategory(e){e!==this.currentCategory&&(this.skillNavBtns.forEach(t=>{t.classList.toggle("active",t.getAttribute("data-category")===e)}),this.skillCategories.forEach(t=>{const n=t.getAttribute("data-category")===e;if(t.classList.toggle("active",n),n){t.querySelectorAll(".skill-progress").forEach((e,t)=>{setTimeout(()=>{const t=e.getAttribute("data-width");e.style.width=t},100*t)})}}),this.currentCategory=e)}setupInteractiveElements(){document.querySelectorAll(".skill-card").forEach(e=>{e.addEventListener("mouseenter",()=>{e.style.transform="translateY(-8px) scale(1.02)"}),e.addEventListener("mouseleave",()=>{e.style.transform=""})})}}class ProjectsManager{constructor(){this.filterBtns=document.querySelectorAll(".filter-btn"),this.projectCards=document.querySelectorAll(".project-card"),this.currentFilter="all",this.init()}init(){this.setupFiltering(),this.setupProjectInteractions()}setupFiltering(){this.filterBtns.forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-filter");this.filterProjects(t)})})}filterProjects(e){e!==this.currentFilter&&(this.filterBtns.forEach(t=>{t.classList.toggle("active",t.getAttribute("data-filter")===e)}),this.projectCards.forEach(t=>{const n=t.getAttribute("data-category")||"",i="all"===e||n.includes(e);t.style.transition="all 0.3s ease",i?(t.style.display="block",t.style.opacity="0",t.style.transform="scale(0.8)",setTimeout(()=>{t.style.opacity="1",t.style.transform="scale(1)"},50)):(t.style.opacity="0",t.style.transform="scale(0.8)",setTimeout(()=>{t.style.display="none"},300))}),this.currentFilter=e)}setupProjectInteractions(){this.projectCards.forEach(e=>{e.addEventListener("mouseenter",()=>{const t=e.querySelector(".project-links");t&&(t.style.opacity="1",t.style.transform="translateY(0)")}),e.addEventListener("mouseleave",()=>{const t=e.querySelector(".project-links");t&&(t.style.opacity="0",t.style.transform="translateY(-20px)")})})}}class ContactFormManager{constructor(){this.form=document.getElementById("contact-form"),this.isSubmitting=!1,this.init()}init(){this.form&&this.setupContactForm(),this.initEmailJS()}async initEmailJS(){try{"undefined"==typeof emailjs&&await this.loadEmailJS(),emailjs.init(CONFIG.emailjs.publicKey)}catch(e){console.warn("EmailJS initialization failed:",e)}}loadEmailJS(){return new Promise((e,t)=>{const n=document.createElement("script");n.src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js",n.onload=e,n.onerror=t,document.head.appendChild(n)})}setupContactForm(){this.form.querySelectorAll("input, select, textarea").forEach(e=>{e.addEventListener("blur",()=>{this.validateField(e)}),e.addEventListener("input",()=>{this.clearFieldError(e)})}),this.form.addEventListener("submit",e=>{e.preventDefault(),this.handleContactSubmission()})}validateField(e){const t=e.value.trim();e.name;let n=!0,i="";if(this.clearFieldError(e),e.hasAttribute("required")&&!t)n=!1,i=`${this.getFieldLabel(e)} is required.`;else if("email"===e.type&&t&&!Utils.isValidEmail(t))n=!1,i="Please enter a valid email address.";else if(e.hasAttribute("minlength")){const s=parseInt(e.getAttribute("minlength"));t.length<s&&(n=!1,i=`${this.getFieldLabel(e)} must be at least ${s} characters.`)}return n||this.showFieldError(e,i),n}showFieldError(e,t){const n=document.getElementById(`${e.name}-error`);n&&(n.textContent=t,n.classList.add("show")),e.classList.add("error"),e.setAttribute("aria-invalid","true")}clearFieldError(e){const t=document.getElementById(`${e.name}-error`);t&&(t.textContent="",t.classList.remove("show")),e.classList.remove("error"),e.removeAttribute("aria-invalid")}getFieldLabel(e){const t=this.form.querySelector(`label[for="${e.id}"]`);return t?t.textContent.replace("*","").trim():e.name}async handleContactSubmission(){if(this.isSubmitting)return;const e=this.form.querySelectorAll("input[required], select[required], textarea[required]");let t=!0;if(e.forEach(e=>{this.validateField(e)||(t=!1)}),!t)return void this.showFormMessage("Please correct the errors below.","error");this.isSubmitting=!0;const n=this.form.querySelector(".submit-btn"),i=Utils.showLoading(n,"Sending...");try{const e=new FormData(this.form),t={};for(let[n,i]of e.entries())t[n]=i;t.timestamp=(new Date).toISOString(),t.user_agent=navigator.userAgent,t.page_url=window.location.href,t.from_name=t.name||"Unknown",t.from_email=t.email||"noreply@example.com",t.reply_to=t.email||"noreply@example.com",t.user_name=t.name||"Unknown",t.user_email=t.email||"noreply@example.com",t.project_budget=t.budget||"Not specified",t.service_type=t.service||"Not specified",t.project_timeline=t.timeline||"Not specified",t.company_name=t.company||"Not specified",t.to_name="Gabriele Tupini",t.contact_name=t.name,t.contact_email=t.email,t.contact_company=t.company,t.contact_budget=t.budget,t.contact_service=t.service,t.contact_timeline=t.timeline,t.contact_message=t.message,console.log("Sending EmailJS with params:",t),await emailjs.send(CONFIG.emailjs.serviceId,CONFIG.emailjs.templateId,t),this.showFormMessage("Thank you for your message! I'll get back to you within 24 hours.","success"),this.form.reset(),this.trackEvent("contact_form_submit",{service:t.service,budget:t.budget})}catch(e){console.error("Form submission failed:",e),this.showFormMessage("Sorry, there was an error sending your message. Please try again or email me directly.","error")}finally{this.isSubmitting=!1,Utils.hideLoading(n,i)}}showFormMessage(e,t){const n=document.getElementById("form-feedback"),i=document.getElementById("success-message"),s=document.getElementById("error-message");n&&i&&s&&(i.style.display="none",s.style.display="none","success"===t?(i.style.display="block",i.querySelector("p")&&(i.querySelector("p").textContent=e)):(s.style.display="block",s.querySelector("p")&&(s.querySelector("p").innerHTML=e)),n.style.display="block",n.scrollIntoView({behavior:"smooth",block:"nearest"}),setTimeout(()=>{n.style.display="none"},1e4))}trackEvent(e,t={}){"undefined"!=typeof gtag&&gtag("event",e,t),console.log("Event tracked:",e,t)}}class PerformanceMonitor{constructor(){this.metrics={},this.errors=[],CONFIG.performance.enableMetrics&&this.init()}init(){this.measureLoadTime(),this.setupErrorTracking(),this.monitorUserInteractions(),this.measureCoreWebVitals()}measureLoadTime(){window.addEventListener("load",()=>{const e=performance.getEntriesByType("navigation")[0];this.metrics.pageLoadTime=e.loadEventEnd-e.fetchStart,this.metrics.domContentLoaded=e.domContentLoadedEventEnd-e.fetchStart,this.metrics.firstPaint=performance.getEntriesByName("first-paint")[0]?.startTime||0,this.metrics.firstContentfulPaint=performance.getEntriesByName("first-contentful-paint")[0]?.startTime||0,console.log("Performance Metrics:",this.metrics)})}setupErrorTracking(){CONFIG.performance.enableErrorTracking&&(window.addEventListener("error",e=>{this.logError({type:"JavaScript Error",message:e.message,source:e.filename,line:e.lineno,column:e.colno,timestamp:(new Date).toISOString()})}),window.addEventListener("unhandledrejection",e=>{this.logError({type:"Unhandled Promise Rejection",message:e.reason?.message||e.reason,timestamp:(new Date).toISOString()})}))}monitorUserInteractions(){let e=!1;const t=["click","keydown","touchstart"],n=()=>{e||(e=!0,this.metrics.timeToFirstInteraction=performance.now(),t.forEach(e=>{document.removeEventListener(e,n)}))};t.forEach(e=>{document.addEventListener(e,n)})}measureCoreWebVitals(){const e=new PerformanceObserver(e=>{const t=e.getEntries(),n=t[t.length-1];this.metrics.largestContentfulPaint=n.startTime});try{e.observe({entryTypes:["largest-contentful-paint"]})}catch(e){}let t=0;const n=new PerformanceObserver(e=>{for(const n of e.getEntries())n.hadRecentInput||(t+=n.value);this.metrics.cumulativeLayoutShift=t});try{n.observe({entryTypes:["layout-shift"]})}catch(e){}}logError(e){this.errors.push(e),console.error("Error tracked:",e)}getReport(){return{metrics:this.metrics,errors:this.errors,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href}}}class TechnicalShowcaseApp{constructor(){this.components={},this.isInitialized=!1}async init(){if(!this.isInitialized)try{this.showLoadingOverlay(),this.components.navigation=new NavigationManager,this.components.animations=new AnimationManager,this.components.skills=new SkillsManager,this.components.projects=new ProjectsManager,this.components.contactForm=new ContactFormManager,this.components.performance=new PerformanceMonitor,this.setupGlobalEvents(),await this.initializeAdditionalFeatures(),this.isInitialized=!0,this.hideLoadingOverlay(),console.log("Technical Showcase App initialized successfully")}catch(e){console.error("Failed to initialize app:",e),this.hideLoadingOverlay()}}showLoadingOverlay(){const e=document.getElementById("loading-overlay");e&&(e.style.display="flex")}hideLoadingOverlay(){const e=document.getElementById("loading-overlay");e&&(e.style.opacity="0",setTimeout(()=>{e.style.display="none"},500))}setupGlobalEvents(){const e=document.getElementById("current-year");e&&(e.textContent=(new Date).getFullYear()),document.addEventListener("click",e=>{if(e.target.matches('a[target="_blank"]')){const t=e.target.href;console.log("External link clicked:",t)}}),document.addEventListener("keydown",e=>{if("Escape"===e.key){document.querySelectorAll(".modal, .case-study-modal").forEach(e=>{const t=e.querySelector(".modal-close, .close");t&&t.click()})}}),window.addEventListener("resize",Utils.debounce(()=>{this.handleResize()},250))}handleResize(){const e=document.querySelectorAll(".tech-item");window.innerWidth<=768?e.forEach(e=>{e.style.fontSize="var(--text-lg)"}):e.forEach(e=>{e.style.fontSize="var(--text-2xl)"})}async initializeAdditionalFeatures(){try{await this.loadDynamicContent(),this.setupAnalytics(),this.setupThirdPartyIntegrations()}catch(e){console.warn("Some additional features failed to initialize:",e)}}async loadDynamicContent(){try{console.log("Dynamic content loading not implemented yet")}catch(e){console.warn("Failed to load dynamic content:",e)}}setupAnalytics(){"undefined"!=typeof gtag&&gtag("event","page_view",{page_title:document.title,page_location:window.location.href})}setupThirdPartyIntegrations(){console.log("Third-party integrations ready")}getComponent(e){return this.components[e]}getPerformanceReport(){return this.components.performance?.getReport()}}async function initializeApp(){try{window.TechnicalShowcaseApp=new TechnicalShowcaseApp,await window.TechnicalShowcaseApp.init(),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").catch(console.warn)}catch(e){console.error("Failed to initialize Technical Showcase App:",e)}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initializeApp):initializeApp();const animationStyles=document.createElement("style");animationStyles.textContent='\n    [data-aos] {\n        opacity: 0;\n        transition: opacity 0.6s ease, transform 0.6s ease;\n    }\n    \n    [data-aos="fade-up"] {\n        transform: translateY(30px);\n    }\n    \n    [data-aos="fade-right"] {\n        transform: translateX(-30px);\n    }\n    \n    [data-aos="fade-left"] {\n        transform: translateX(30px);\n    }\n    \n    [data-aos].aos-animate {\n        opacity: 1;\n        transform: translate(0);\n    }\n\n',document.head.appendChild(animationStyles),"undefined"!=typeof module&&module.exports&&(module.exports={TechnicalShowcaseApp:TechnicalShowcaseApp,Utils:Utils,CONFIG:CONFIG});